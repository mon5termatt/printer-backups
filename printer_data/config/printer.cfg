# MAIN Configuration File

# Included Configurations

### TOOLHEAD 
[include configs/shaper.cfg]
[include configs/carto.cfg]
[include configs/OrbiterSensor.cfg]


### MACROS
[include macros.cfg]

### STEPPERS
[include configs/steppers.cfg]

### FANS
[include configs/fans.cfg]

### BED
[include configs/bed.cfg]

### LIGHTING
[include configs/led_effects.cfg]

### CALIBRATIONS
[include calibration/TEST_SPEED.cfg]
[include calibration/shaketune.cfg]
[include configs/KAMP_Settings.cfg]



### OTHER MODULES
[include moonraker_obico_macros.cfg]
[include shell_command.cfg]
[include mainsail.cfg]
[include timelapse.cfg]


[exclude_object]


# Printer Settings
[printer]
kinematics: corexy
max_velocity: 600
max_accel: 60000
square_corner_velocity: 5
max_z_velocity: 20
max_z_accel: 500

# Microcontroller Configuration

[mcu]
#mcu SKR 3 EZ
canbus_uuid: 91b8570fbaba

# [mcu pi]
# serial: /tmp/klipper_host_mcu

[mcu EBBCan]
canbus_uuid: 0f09a2bf6f9a


# G-code Settings
[gcode_arcs]
resolution: 0.1

# Response Settings
[respond]
default_type: command


# Temperature Sensors Configuration
[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 100

[temperature_sensor EBBCan]
sensor_type: temperature_mcu
sensor_mcu: EBBCan
min_temp: 0
max_temp: 100


# Extruder Configuration
[extruder]
step_pin: EBBCan: PD0
dir_pin: EBBCan: PD1
enable_pin: !EBBCan: PD2
microsteps: 16
full_steps_per_rotation: 200
rotation_distance: 4.637
nozzle_diameter: 0.400
filament_diameter: 1.750
max_extrude_only_distance: 500
max_extrude_only_velocity: 120
pressure_advance: 0.025             #to be calibrated
pressure_advance_smooth_time: 0.03  #to be calibrated
heater_pin: EBBCan: PB13
sensor_type: EPCOS 100K B57560G104F
sensor_pin: EBBCan: PA3
min_temp: 0
max_temp: 310

[tmc2209 extruder]
uart_pin: EBBCan: PA15
interpolate: true
run_current: 0.85 
sense_resistor: 0.11 
stealthchop_threshold: 0
driver_TBL: 0
driver_HEND: 6
driver_HSTRT: 7
driver_TOFF: 4


[delayed_gcode led_ready_state]
gcode:
  status_ready

[idle_timeout]
gcode: _IDLE_TIMEOUT
timeout: 1800

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 22.768
#*# pid_ki = 2.617
#*# pid_kd = 49.521
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.018833, 0.010813, -0.016528, -0.033143, -0.038978, -0.047056, -0.057579, -0.065947, -0.069209, -0.074458, -0.071930, -0.070383, -0.072497, -0.061639, -0.054812, -0.048854, -0.047085, -0.039805, -0.022473, -0.012784
#*# 	0.012488, 0.006503, -0.021142, -0.035985, -0.041745, -0.044857, -0.053285, -0.056241, -0.056747, -0.062078, -0.037672, -0.029125, -0.050015, -0.055076, -0.048865, -0.044316, -0.044656, -0.038368, -0.023814, -0.017507
#*# 	0.009440, 0.013807, -0.014381, -0.029857, -0.038439, -0.046252, -0.049834, -0.052556, -0.054916, -0.052659, 0.000520, 0.026976, -0.027330, -0.040909, -0.041231, -0.033075, -0.037856, -0.033649, -0.016084, -0.011184
#*# 	0.022815, 0.021215, -0.011801, -0.028230, -0.036960, -0.047794, -0.050303, -0.052669, -0.053746, -0.054033, -0.017897, -0.002245, -0.036910, -0.046274, -0.041680, -0.029150, -0.036635, -0.031587, -0.013088, -0.012192
#*# 	0.031449, 0.028346, -0.003363, -0.015707, -0.025637, -0.033582, -0.039751, -0.040174, -0.043830, -0.042563, -0.040150, -0.034636, -0.037015, -0.035779, -0.030069, -0.019028, -0.020565, -0.018781, -0.004506, 0.004736
#*# 	0.047239, 0.037070, 0.006570, -0.006847, -0.012667, -0.022727, -0.032571, -0.035967, -0.038124, -0.034096, -0.037214, -0.034083, -0.030044, -0.026837, -0.018898, -0.005612, -0.006298, -0.002099, 0.009450, 0.013530
#*# 	0.060603, 0.046156, 0.014109, 0.003661, -0.007612, -0.018684, -0.025114, -0.028570, -0.028642, -0.031237, -0.033252, -0.029807, -0.020027, -0.018933, -0.010210, -0.001560, 0.001866, 0.008985, 0.020556, 0.026287
#*# 	0.083347, 0.057984, 0.027769, 0.009235, 0.002472, -0.007484, -0.011907, -0.014507, -0.019540, -0.019972, -0.023918, -0.018673, -0.011337, -0.001560, 0.001130, 0.009526, 0.015033, 0.022433, 0.041564, 0.049528
#*# 	0.087938, 0.060154, 0.030219, 0.015720, 0.007200, -0.003717, -0.005970, -0.009177, -0.008080, -0.011019, -0.011009, -0.009394, -0.004694, 0.002840, 0.009377, 0.017342, 0.023503, 0.028759, 0.041154, 0.053992
#*# 	0.109797, 0.072417, 0.038733, 0.020514, 0.010686, 0.003695, 0.001166, -0.000370, -0.002174, -0.001164, -0.002112, -0.001234, 0.006927, 0.011149, 0.017497, 0.023075, 0.027203, 0.032418, 0.049721, 0.059612
#*# 	0.112792, 0.075940, 0.039145, 0.017506, 0.006489, -0.004901, -0.004330, -0.003021, -0.000910, 0.001784, -0.001505, 0.001537, 0.002638, 0.008987, 0.017491, 0.028351, 0.033936, 0.038377, 0.052168, 0.064161
#*# 	0.112566, 0.071208, 0.033091, 0.018366, 0.005610, -0.000515, -0.005614, -0.007379, -0.006033, -0.007678, -0.010875, -0.007607, 0.001139, 0.001521, 0.009720, 0.022361, 0.028759, 0.039188, 0.057712, 0.069544
#*# 	0.106405, 0.062338, 0.021307, 0.002218, -0.007590, -0.015403, -0.018500, -0.022161, -0.024056, -0.017213, -0.014558, -0.005884, -0.003059, 0.003867, 0.011205, 0.024661, 0.025247, 0.036361, 0.062120, 0.073684
#*# 	0.098695, 0.050961, 0.007418, -0.012566, -0.019074, -0.026696, -0.030097, -0.036999, -0.035503, -0.030737, -0.024213, -0.014676, -0.007921, -0.004172, 0.003934, 0.014597, 0.016185, 0.029968, 0.050275, 0.073719
#*# 	0.088283, 0.057341, 0.006263, -0.010212, -0.023870, -0.032267, -0.035215, -0.039367, -0.032819, -0.029300, -0.025984, -0.020237, -0.011419, -0.007735, 0.002236, 0.010233, 0.020817, 0.031401, 0.051964, 0.064966
#*# 	0.075155, 0.034082, -0.009459, -0.033644, -0.038138, -0.048104, -0.052596, -0.053817, -0.045612, -0.039548, -0.040302, -0.033427, -0.031458, -0.022591, -0.017891, -0.002705, 0.003884, 0.020344, 0.035183, 0.045384
#*# 	0.042566, 0.024204, -0.033728, -0.049765, -0.058915, -0.062631, -0.066977, -0.064834, -0.059829, -0.055015, -0.054809, -0.053562, -0.046096, -0.044118, -0.031980, -0.026248, -0.013152, -0.000306, 0.015145, 0.023669
#*# 	0.021574, -0.004789, -0.058533, -0.079501, -0.075127, -0.082939, -0.081979, -0.086635, -0.076691, -0.072073, -0.073043, -0.064690, -0.062298, -0.056715, -0.052495, -0.041562, -0.033267, -0.015736, -0.001210, 0.003852
#*# 	-0.011497, -0.023708, -0.075607, -0.094000, -0.094297, -0.097638, -0.097228, -0.098747, -0.089015, -0.086837, -0.087325, -0.085563, -0.080616, -0.077728, -0.071172, -0.060072, -0.049864, -0.032216, -0.020367, -0.016630
#*# 	0.000786, -0.021063, -0.066214, -0.094384, -0.099937, -0.096991, -0.087746, -0.090950, -0.082030, -0.088518, -0.086989, -0.085641, -0.078167, -0.078158, -0.065145, -0.059635, -0.042372, -0.033155, -0.021044, -0.016578
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = direct
#*# tension = 0.2
#*# min_x = 10.0
#*# max_x = 360.0
#*# min_y = 45.0
#*# max_y = 350.0
#*#
#*# [cartographer model default]
#*# model_coef = 1.3598175809853816,
#*# 	  1.774693286976362,
#*# 	  0.6816917689206765,
#*# 	  0.33219033154740285,
#*# 	  0.6844261663321833,
#*# 	  0.6722055887123215,
#*# 	  -0.6127787489714618,
#*# 	  -0.8231153598590557,
#*# 	  0.437826340617253,
#*# 	  0.496858661463448
#*# model_domain = 3.1747516373159356e-07,3.3261568215863194e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 27.099932
#*# model_offset = 0.00000
